<mat-card>
    <mat-card-title>Add a new entry</mat-card-title>
    <mat-card-content>
        <form #form="ngForm" >
            <mat-form-field>
                <input type="text" name="user" id="" placeholder="User" matInput [(ngModel)]="entry.user" #user="ngModel" 
                required>
                <mat-error *ngIf="user.errors?.required && (user.dirty || user.touched)">
                    User is required
                </mat-error>
            </mat-form-field>
            <mat-form-field>
                <input type="text" name="workshop" id="" placeholder="Workshop" matInput [(ngModel)]="entry.workshop" #workshop="ngModel" 
                required minlength="5">
                <mat-error *ngIf="workshop.errors?.required && (workshop.dirty || workshop.touched)">
                    Workshop is required
                </mat-error>
                <mat-error *ngIf="workshop.errors?.minlength && (workshop.dirty || workshop.touched)">
                    Workshop length is too short 
                </mat-error>
            </mat-form-field>
            <mat-form-field>
                <input type="text" name="ticketPrice" id="" placeholder="Ticket Price" matInput [(ngModel)]="entry.ticketPrice" #ticketPrice="ngModel" 
                required>
                <mat-error *ngIf="ticketPrice.errors?.required && (ticketPrice.dirty || ticketPrice.touched)">
                    Ticket price is required
                </mat-error>
            </mat-form-field>
            <mat-form-field>
                <input type="text" name="url" id="" placeholder="Workshop URL" matInput [(ngModel)]="entry.url" #url="ngModel" 
                required [pattern]="urlPattern">
                <mat-error *ngIf="url.errors?.required && (url.dirty || url.touched)">
                    URL is required
                </mat-error>
                <mat-error *ngIf="url.errors?.pattern && (url.dirty || url.touched)">
                    URL format is incorrect
                </mat-error>
            </mat-form-field>
        </form>
    </mat-card-content>
    <mat-card-actions>
        <button [disabled]="form.invalid" (click)="submit()" mat-raised-button color="primary">Add</button>
        <button (click)="cancel()" mat-raised-button>Cancel</button>
    </mat-card-actions>
</mat-card>
<pre>
    Form.valid: {{form.valid}}
    Form.invalid: {{form.invalid}}
    Form.pristine: {{form.pristine}}
    Form.dirty: {{form.dirty}}
    Form.touched: {{form.touched}}
    Form.untouched: {{form.untouched}}
</pre>
<pre>
    user.valid: {{user.valid}}
    user.invalid: {{user.invalid}}
    user.pristine: {{user.pristine}}
    user.dirty: {{user.dirty}}
    user.touched: {{user.touched}}
    user.untouched: {{user.untouched}}
</pre>

<code>
    {{entry| json}}
</code>